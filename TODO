
  NOTES EN VRAC : voir plutôt le Trac !!!




A VERIFIER (?):


 - inscrire a un autre semestre:
     . choisir modules (options, sport)
     . donner les dates des semestres !


BUGS
----

 - formsemestre_inscription_with_modules
     si inscription 'un etud deja inscrit, IntegrityError

 - verifier: les acronymes d'UE doivent etre uniques dans une formation


FEATURES REQUESTS
-----------------

* Bulletins:
  . logos IUT et Univ sur bull PDF
  . nom departement: nom abbrégé (CJ) ou complet (Carrière Juridiques)
  . bulletin: deplacer la barre indicateur (cf OLDGEA S2: gêne)
  . bulletin: click nom titre -> ficheEtud

  . formsemestre_pagebulletin_dialog: marges en mm: accepter "2,5" et "2.5" 
    et valider correctement le form !

* Jury
  . recapcomplet: revenir avec qq lignes au dessus de l'étudiant en cours


* Divers
  . formsemestre_editwithmodules: confirmer suppression modules
      (et pour l'instant impossible si evaluations dans le module)

* Modules et UE optionnelles:
  . UE capitalisées: donc dispense possible dans semestre redoublé.
      traitable en n'inscrivant pas l'etudiant au modules
      de cette UE: faire interface utilisateur

  . page pour inscription d'un etudiant a un module
  . page pour visualiser les modules auquel un etudiant est inscrit,
    et le desinscrire si besoin.

  . ficheEtud  indiquer si inscrit au module sport

* Absences
  . EtatAbsences : verifier dates (en JS)
  . Listes absences pdf et listes groupes pdf + emargements (cf mail Nathalie)
  . absences par demi-journées sur EtatAbsencesDate (? à vérifier)
  . formChoixSemestreGroupe: utilisé par Absences/index_html
       a améliorer

* Photos
  . Version "haute résolution" des photos

* Notes et évaluations: 
  . Exception "Not an OLE file": generer page erreur plus explicite
  . Dates evaluation: utiliser JS pour calendrier
  . Saisie des notes: si une note invalide, l'indiquer dans le listing (JS ?)
  . et/ou: notes invalides: afficher les noms des etudiants concernes 
    dans le message d'erreur.
  . upload excel: message erreur peu explicite:
          * Feuille "Saisie notes", 17 lignes
          * Erreur: la feuille contient 1 notes invalides
          * Notes invalides pour les id: ['10500494']
          (pas de notes modifiées)
          Notes chargées. <<< CONTRADICTOIRE !!

  . recap complet semestre:
       Options:
           - choix groupes
           - critère de tri (moy ou alphab)
           - nb de chiffres a afficher

       + definir des "catégories" d'évaluations (eg "théorie","pratique")
         afin de n'afficher que des moyennes "de catégorie" dans
         le bulletin.

  . liste des absents à une eval et croisement avec BD absences

  . notes_evaluation_listenotes
    - afficher groupes, moyenne, #inscrits, #absents, #manquantes dans l'en-tete.
    - lien vers modif notes (selon role)

  . Export excel des notes d'evaluation: indiquer date, et autres infos en haut.
  . Génération PDF listes notes
  . Page recap notes moyennes par groupes (choisir type de groupe?)

  . (GEA) edition tableau notes avec tous les evals d'un module
        (comme notes_evaluation_listenotes mais avec tt les evals)


* Non prioritaire:
 . optimiser scolar_news_summary
 . recapitulatif des "nouvelles"
     - dernieres notes
     - changement de statuts (demissions,inscriptions)
     - annotations
     - entreprises

 . notes_table: pouvoir changer decision sans invalider tout le cache
 . navigation: utiliser Session pour montrer historique pages vues ?


* TrivialFormulator:
 - clarifier le typage (strings/ints/...)
   tout devrait rester en type string, ce qui n'empeche pas un checking

 - class CSS sur tous les éléments, avec préfix paramétrable;

 - Vers une seule description pour TableEditor et formulaires edit/create ?

 - html_quote ?

 - "widget" saisie menu + champ texte (comme fait au lipn)

 - Creer un produit permettant d'utiliser la classe TF depuis Zope  ?

 - terminer refactoring (classe TF)

------------------------------------------------------------------------



   
Refonte page formsemestre_status:

menus:


+ Menu "Semestre"
Modifier ce semestre [ScoImplementFormation]
Options du semestre [ScoImplementFormation, responsable]


+ Menu "Bulletins"
Tableau de toutes les moyennes (et liens bulletins)
Classeur PDF des bulletins
Voir les décisions du jury (et éditer les PV)
Générer feuille préparation Jury
Saisie des décisions du jury          [can_validate_sem]


+ Menu "Inscriptions"
Voir les inscriptions aux modules
Modifier les groupes de TD, langues, TP [ScoEtudChangeGroups]
Inscriptions (passage des étudiants) depuis d'autres semestres [ScoInscrireEtud]
Synchroniser avec étape Apogée (expérimental) [ScoInscrireEtud]
Importer de nouveaux étudiants dans ce semestre (table Excel) [ScoInscrireEtud]
Créer un nouvel étudiant [ScoInscrireEtud]
Table complète  (liste des etudiants excel)


+ Menu "Statistiques"
Tableau de répartition des bacs
Suivi de cohortes (à implémenter)


+ Liens (customizable)


nettoyage:
dropdb SCOCJ
dropdb SCOFC
dropdb SCOGEA
dropdb SCOGEII
dropdb SCOINFO
dropdb SCORT
dropdb SCOTEST
dropdb SCOUSERS


DONE (Jul 2008):
 - refonte fiche étudiant: visualisation du parcours.
 - gestion des archives des PV et documents par semestre;
 - refonte pages semestres (barre titre, menus) pour unifier l'apparence et ameliorer l'ergonomie;
 - amelioration affichage notes des evaluations (html, excel, pdf)
 - separation des semestres sur page d'accueil, et présente plus recents d'abord;
 - amelioration apparence des menus;
 - amelioration apparence tableau de bord semestre (=> regenerer icones);
 - lien pour regenerer icones sur page d'administration ScoDoc;
 - creation de semestre:  propose titre par defaut (et bouton pour reinitialiser titre)
 - correction de nombreux petits bugs...


A faire:
 - bug ? suivi cohortes: S4 Franck: diplomés ?
 - saisie notes: validation
 - saisie notes: undo
 - bencher NotesTable sans calcul de moyennes. Etudier un cache des moyennes de modules.
 - listes d'utilisateurs (modules): remplacer menus par champs texte + completions javascript
 - documenter archives sur Wiki
 - verifier paquet Debian pour font pdf (reportab: helvetica ... plante si font indisponible)
 - chercher comment obtenir une page d'erreur correcte pour les pages POST
    (eg: si le font n'existe pas, archive semestre echoue sans page d'erreur)
    ? je ne crois pas que le POST soit en cause. HTTP status=500
     ne se produit pas avec Safari
 - essayer avec IE / Win98
 - faire apparaitre les diplômés sur le graphe des parcours
 - démission: formulaire: vérifier que la date est bien dans le semestre

TODO
 - modif gestion utilisateurs (donner droits en fct du dept. d'appartenance, bug #57)
 - modif form def. utilisateur (dept appartenance)
 - utilisateurs: source externe
 - archivage des semestres
  
* Nouvelle gestion utilisateurs:
  objectif: dissocier l'authentification de la notion "d'enseignant" 
  On a une source externe "d'utilisateurs" (annuaire LDAP ou base SQL)
  qui permet seulement de:
     - authentifier un utilisateur (login, passwd)
     - lister un utilisateur: login => firstname, lastname, email
     - lister les utilisateurs

  et une base interne "d'acteurs". Chaque acteur est défini par:
     - actor_id, firstname, lastname
       date_creation, date_expiration, 
       roles, departement,
       email (+flag indiquant s'il faut utiliser ce mail ou celui de
       l'utilisateur ?)
       state (on, off) (pour desaciver aavant expiration ?)
       user_id (login)  => lien avec base utilisateur

  On offre une source d'utilisateurs SQL (base partagée par tous les dept.
  d'une instance ScoDoc), mais dans la plupart des cas les gens utiliseront
  un annuaire LDAP.

  La base d'acteurs remplace ScoUsers. Les objets ScoDoc (semestres, 
  modules etc) font référence à des acteurs (eg responsable_id est un actor_id).

  Le lien entre les deux ?
  Loger un utilisateur => authentification utilisateur + association d'un acteur
  Cela doit se faire au niveau d'un UserFolder Zope, pour avoir les
  bons rôles et le contrôle d'accès adéquat.
  (Il faut donc coder notre propre UserFolder).
  On ne peut associer qu'un acteur à l'état 'on' et non expiré.
  
  Opérations ScoDoc:
   - paramétrage: choisir et paramétrer source utilisateurs
   - ajouter utilisateur: choisir un utilisateur dans la liste
     et lui associer un nouvel acteur (choix des rôles, des dates)
     + éventuellement: synchro d'un ensemble d'utilisateurs, basé sur
     une requête (eg LDAP) précise (quelle interface utilisateur proposer ?)

   - régulièrement (cron) aviser quelqu'un (le chef) de l'expiration des acteurs.
   - changer etat d'un acteur (on/off)





